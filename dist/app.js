!// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles
function(e,t,o,n,r){/* eslint-disable no-undef */var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},d="function"==typeof i[n]&&i[n],a=d.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function s(t,o){if(!a[t]){if(!e[t]){// if we cannot find the module within our internal map or
// cache jump to the current global require ie. the last bundle
// that was added to the page.
var r="function"==typeof i[n]&&i[n];if(!o&&r)return r(t,!0);// If there are other bundles on this page the require from the
// previous one is saved to 'previousRequire'. Repeat this as
// many times as there are bundles until the module is found or
// we exhaust the require chain.
if(d)return d(t,!0);// Try the node require function if it exists.
if(l&&"string"==typeof t)return l(t);var u=Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}f.resolve=function(o){var n=e[t][1][o];return null!=n?n:o},f.cache={};var c=a[t]=new s.Module(t);e[t][0].call(c.exports,f,c,c.exports,this)}return a[t].exports;function f(e){var t=f.resolve(e);return!1===t?{}:s(t)}}s.isParcelRequire=!0,s.Module=function(e){this.id=e,this.bundle=s,this.exports={}},s.modules=e,s.cache=a,s.parent=d,s.register=function(t,o){e[t]=[function(e,t){t.exports=o},{}]},Object.defineProperty(s,"root",{get:function(){return i[n]}}),i[n]=s;for(var u=0;u<t.length;u++)s(t[u]);if(o){// Expose entry point to Node, AMD or browser globals
// Based on https://github.com/ForbesLindesay/umd/blob/master/template.js
var c=s(o);// CommonJS
"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):r&&(this[r]=c)}}({cGfnH:[function(e,t,o){e("./components/FlyoutMenu"),window.addEventListener("pageshow",e=>{let t=new URL(window.location.href);if(e.persisted)window.location.reload();else{let e=t.pathname,o=t.searchParams.get("filter"),n=t.searchParams.get("query"),r=new URL(window.location.origin+e);o&&r.searchParams.set("filter",o),n&&r.searchParams.set("query",n),window.history.replaceState({},"",r.pathname+r.search)}});let n="scroll-position-y",r="focus-element-id";window.addEventListener("scroll",()=>{window.sessionStorage.setItem(n,`${window.scrollY}`)}),window.addEventListener("DOMContentLoaded",async()=>{await new Promise(window.requestAnimationFrame);let e=sessionStorage.getItem(n)||0;window.scrollTo(0,Number(e))}),window.addEventListener("DOMContentLoaded",()=>{Array.from(window.document.querySelectorAll('[type="search"]')).forEach(e=>{e.addEventListener("input",()=>{""===e.value&&e.form?.submit()})}),window.document.body.addEventListener("focusin",()=>{sessionStorage.setItem(r,document.activeElement?.id||"")});let e=window.document.querySelector('[data-auto-focus="true"]'),t=sessionStorage.getItem(r)||"",o=window.document.getElementById(t);e instanceof HTMLElement?e.focus({preventScroll:!0}):o&&o.focus({preventScroll:!0}),[o,...Array.from(window.document.querySelectorAll('[data-auto-focus="true"]'))].forEach(e=>{e instanceof HTMLInputElement&&0!==e.value.length&&("text"===e.type||"search"===e.type)&&(e.selectionStart=e.selectionEnd=e.value.length)}),Array.from(window.document.querySelectorAll("dialog")).forEach(e=>{e.addEventListener("click",t=>{t.target===t.currentTarget&&e.querySelector(".close-dialog-form")?.submit()}),e.addEventListener("keyup",t=>{"Escape"===t.key&&e.querySelector(".close-dialog-form")?.submit()})}),Array.from(window.document.querySelectorAll('.contenteditable[value]:not([form="add-todo-form"])')).forEach(e=>{e.addEventListener("input",()=>{e.value!==(e.getAttribute("value")||"")?e.classList.add("is-dirty"):e.classList.remove("is-dirty")}),e.addEventListener("blur",()=>{e.classList.contains("is-dirty")&&e.form?.checkValidity()&&fetch(e.form?.getAttribute("action")??"",{method:e.form.getAttribute("method")??"",body:new FormData(e.form)}).then(()=>{e.classList.remove("is-dirty")})})});let n=[...new Set(Array.from(window.document.querySelectorAll('.contenteditable:not([form="add-todo-form"])')).map(e=>e.form).filter(e=>!!e))];for(let e of n)e?.addEventListener("submit",e=>{e.preventDefault();let t=n.map(e=>{let t=Array.from(e?.elements??[]).find(e=>e.matches(".contenteditable.is-dirty"));if(t&&e?.checkValidity())return fetch(e?.getAttribute("action")??"",{method:e.getAttribute("method")??"",body:new FormData(e)})});Promise.all(t).then(()=>{window.location.reload()})})})},{"./components/FlyoutMenu":"lmFws"}],lmFws:[function(e,t,o){class n extends HTMLElement{constructor(){if(super(),!this.shadowRoot)return;let e=this.shadowRoot.querySelector("details"),t=this.shadowRoot.querySelector('[role="menu"]');if(!e||!t)return;let o=Array.from(t.querySelectorAll('[role="menuitem"]'));e.addEventListener("toggle",()=>{e.open&&o?.find(e=>"0"===e.getAttribute("tabindex"))?.focus()}),t.addEventListener("keydown",n=>{if(n instanceof KeyboardEvent){if("ArrowUp"===n.key){let e=o.find(e=>e.matches('[tabindex="0"]'));if(!e)return;let t=o.indexOf(e),n=o[t-1]||o[o.length-1];n instanceof HTMLElement&&(e.setAttribute("tabindex","-1"),n.setAttribute("tabindex","0"),n.focus())}if("ArrowDown"===n.key){let e=Array.from(t.querySelectorAll('[role="menuitem"]')),o=e.find(e=>e.matches('[tabindex="0"]'));if(!o)return;let n=e.indexOf(o),r=e[n+1]||e[0];r instanceof HTMLElement&&(o.setAttribute("tabindex","-1"),r.setAttribute("tabindex","0"),r.focus())}"Escape"===n.key&&(e.querySelector("summary")?.focus(),e.removeAttribute("open"))}})}}window.customElements.define("flyout-menu",n)},{}]},["cGfnH"],"cGfnH","parcelRequire53ad")//# sourceMappingURL=app.js.map
;
//# sourceMappingURL=app.js.map
